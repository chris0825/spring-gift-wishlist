# spring-gift-wishlist
> 카카오테크 캠퍼스 STEP2 - 2주차 클론 코딩

## 목차
[* 코드 소개](#코드-소개)<br>
[* 0단계 - 기본 코드 준비](#-0단계----기본-코드-준비)<br>
[* 1단계 - 유효성 검사 및 예외 처리](#-1단계----유효성-검사-및-예외-처리)<br>
[* 2단계 - 회원 로그인](#-2단계----회원-로그인)
[* 3단계 - 위시 리스트](#-3단계----위시-리스트)
[* 제약 조건](#제약-조건)<br>

## 코드 소개
카카오 선물하기의 상품을 관리하는 서비스를 구현해본다

## < 0단계 > - 기본 코드 준비
## [ 기능 요구 사항 ]
- [spring-gift-product](https://github.com/chris0825/spring-gift-product.git)의 코드를 옮겨온다.

## < 1단계 > - 유효성 검사 및 예외 처리
## [ 기능 요구 사항 ]
> 상품을 추가하거나 수정하는 경우, 클라이언트로부터 잘못된 값이 전달될 수 있다.<br>잘못된 값이 전달되면 클라이언트가 어떤 부분이 왜 잘못되었는지 인지할 수 있도록 응답을 제공한다.
- 상품 이름 제약 조건
  - 공백 포함 최대 15자
  - 특수문자는 ( ), [ ], +, -, &, /, _만 가능
  - 상품명에 "카카오"는 포함되면 안됨
- 상품의 가격은 1 이상의 양수
- 상품의 모든 속성의 값은 항상 존재해야한다.

### [ 기능 목록 ]
- 상품의 속성에 대한 Validation 설정
- 하나의 메서드가 하나의 기능만 하도록 분할(코드 리팩토링)
- HTML폼으로 통신(관리자 화면)하는 클래스(AdminProductController)와 JSON API로 통신하는 클래스(ApiProductController)로 구분
- 예외 발생시 보다 안정적으로 서버를 동작시킬 수 있도록 GlobalExceptionHandler 생성

## < 2단계 > - 회원 로그인
## [ 기능 요구 사항 ]
> 사용자가 회원 가입, 로그인, 추후 회원별 기능을 이용할 수 있도록 구현
- 회원은 이메일과 비밀번호를 입력하여 가입
- 토큰을 받으려면 이메일과 비밀번호를 보내야 하며, 가입한 이메일과 비밀번호가 일치하면 토큰을 발급
- 토큰을 생성하는 방법으로 [JJWT](https://github.com/jwtk/jjwt) 라이브러리를 사용
- (선택) 회원을 조회, 추가, 수정, 삭제할 수 있는 관리자 화면 구현

### [ 기능 목록 ]
- 회원 가입과 로그인 기능 구현
- step2의 예제처럼 회원가입과 로그인시 [JJWT](https://github.com/jwtk/jjwt) 라이브러리를 사용하여 생성한 토큰을 반환하도록 구현
- 회원 가입과 로그인시 Base64 인코딩을 통해 DB에 회원 정보를 등록 및 조회하도록 구현
- 로그인 실패시 [403 Forbidden](https://developer.mozilla.org/ko/docs/Web/HTTP/Status/403)을 반환하도록 구현
- 사전에 DB에 저장된 이메일로 회원가입을 시도할 시 커스텀 예외(DuplicateEmail)가 발생되도록 구현

## < 3단계 > - 위시 리스트
## [ 기능 요구 사항 ]
> 이전 단계에서 로그인 후 받은 토큰을 사용하여 사용자별 위시 리스트 기능을 구현한다.
- 위시 리스트에 등록된 상품 목록을 조회할 수 있다.
- 위시 리스트에 상품을 추가할 수 있다.
- 위시 리스트에 담긴 상품을 삭제할 수 있다.

### [ 기능 목록 ]
- Authorization 헤더가 유효하지 않거나 토큰이 유효하지 않은 경우 [401 Unauthorized](https://developer.mozilla.org/ko/docs/Web/HTTP/Status/401)를 반환
- 상품을 위시리스트에 추가하는 기능
- 위시리스트에서 상품을 조회하는 기능
- 위시리스트에 담긴 상품을 삭제하는 기능

## 제약 조건
- [자바 코드 컨벤션](https://google.github.io/styleguide/javaguide.html)을 지키면서 프로그래밍 한다
  >예외조건: 들여쓰기는 4 space (default: 2 space)로 설정
- indent(인덴트, 들여쓰기) depth를 2이하로 구현한다
- 3항 연사자를 사용하지 않는다
- 함수(method)의 최대 라인수는 15이다
- else 예약어를 사용하지 않는다(switch/case도 사용 불가)